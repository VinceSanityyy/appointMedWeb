(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{207:function(t,e,l){"use strict";l.r(e);l(24);var n=l(23),o=(l(191),l(192),{layout:"adminLte",data:function(){return{address:{lat:7.0650673,lng:125.5961476},clickedEvent:{lat:0,lng:0},clinicName:"",clinicAddress:"",imageFile:null,image:"",imageUrl:"",upload:""}},methods:{initMap:function(){var t=new google.maps.LatLng(this.address.lat,this.address.lng),map=new google.maps.Map(document.getElementById("map"),{zoom:13,center:t}),e=this;map.addListener("click",(function(t){console.log(t.latLng.lat()),console.log(t.latLng.lng()),e.clickedEvent.lat=t.latLng.lat(),e.clickedEvent.lng=t.latLng.lng();var l=new google.maps.Marker({position:e.clickedEvent,title:"Hello World!"});console.log(e.clickedEvent),l.setMap(map)}))},loadScript:function(){if(window.google&&window.google.maps)this.initMap();else{var t=this,script=document.createElement("script");script.onload=function(){window.google||window.google.maps?t.initMap():console.error("no google maps script included")},script.async=!0,script.defer=!0,script.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZS1-x2tYC7qwUoiCsy3pJdezTeo2O6xA&libraries=geometry",document.getElementsByTagName("head")[0].appendChild(script)}},onFileSelected:function(t){console.log(t),this.imageFile=t.target.files[0],this.image=n.storage().ref("clinicImages/"+this.imageFile.name),this.upload=this.image.put(this.imageFile);var e=this;e.upload.on("state_changed",(function(t){switch(t.state){case n.storage.TaskState.PAUSED:console.log("Upload is paused");break;case n.storage.TaskState.RUNNING:console.log("Upload is running");t.bytesTransferred,t.totalBytes}}),(function(t){console.log(t)}),(function(){e.upload.snapshot.ref.getDownloadURL().then((function(t){console.log("File available at",t),e.imageUrl=t}))}))},addClinic:function(){var t=this;console.log("Clinic Added!");var e=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,onCancel:this.onCancel,color:"#c91010",loader:"bars",width:80,height:100});console.log(this.imageUrl),n.database().ref("clinics").push({name:this.clinicName,address:this.clinicAddress,lat:this.clickedEvent.lat,lng:this.clickedEvent.lng,image:this.imageFile.name,imageUrl:this.imageUrl}).then((function(l){console.log("Added Successfully"),e.hide(),toastr.success("Added!"),t.image.put(t.imageFile)})).catch((function(t){console.log(t),e.hide()}))}},mounted:function(){this.loadScript()},created:function(){null===localStorage.getItem("user-email")&&this.$router.push("/login")}}),c=l(7),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[t._m(0),t._v(" "),l("section",{staticClass:"content"},[l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-md-3"},[l("div",{staticClass:"card card-primary card-outline"},[t._m(1),t._v(" "),l("div",{staticClass:"card-body table-responsive"},[l("div",{staticClass:"form-group"},[l("label",[t._v("Clicnic Name")]),t._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:t.clinicName,expression:"clinicName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clinicName},on:{input:function(e){e.target.composing||(t.clinicName=e.target.value)}}})]),t._v(" "),l("div",{staticClass:"form-group"},[l("label",[t._v("Display Address")]),t._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:t.clinicAddress,expression:"clinicAddress"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clinicAddress},on:{input:function(e){e.target.composing||(t.clinicAddress=e.target.value)}}})]),t._v(" "),l("div",{staticClass:"form-group"},[l("label",[t._v("Picture")]),t._v(" "),l("input",{staticClass:"form-control",attrs:{type:"file",required:"",placeholder:"Address"},on:{change:t.onFileSelected}})]),t._v(" "),l("div",{staticClass:"form-group"},[l("button",{staticClass:"btn btn-primary btn-block",on:{click:t.addClinic}},[t._v("Submit Changes")])])])])]),t._v(" "),t._m(2)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-header"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-6"},[e("h1",{staticClass:"m-0 text-dark"},[this._v("\n                        Add new Clinic\n                    ")])]),this._v(" "),e("div",{staticClass:"col-sm-6"},[e("ol",{staticClass:"breadcrumb float-sm-right"},[e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:""}},[this._v("Home")])]),this._v(" "),e("li",{staticClass:"breadcrumb-item active"},[this._v("\n                            Add Clinic\n                        ")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[e("i",{staticClass:"fas fa-hospital"}),this._v("\n                              Clicnic Details\n                              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"card card-primary card-outline"},[e("div",{staticClass:"card-body table-responsive"},[e("div",{staticStyle:{width:"1200px",height:"600px"},attrs:{id:"map"}})])])])}],!1,null,null,null);e.default=component.exports}}]);